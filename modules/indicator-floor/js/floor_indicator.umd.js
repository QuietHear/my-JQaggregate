/*
 * @LastEditors: aFei
 * @LastEditTime: 2022-12-06 09:45:51
*/
(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";var s={minHeight:$("section").offset().top-180,fixedHeight:$("section").offset().top-80,numChildren:$("section>div").length,arrHeight:[],linHeight:null,monitor:!1,customizeOn:null,slideBg:"rgba(0, 0, 0, 0.4)",slideBgA:"#e4393c",heightNow:null,beforeHeight:null,nowHeight:null,start:function(){for(var i=0;i<this.numChildren;i++)this.arrHeight.push(parseInt($($("section>div")[i]).css("height")));this.customizeColor(),setInterval(function(){this.nowHeight===this.beforeHeight&&(clearInterval(this.heightNow),this.monitor=!1)},3e3),this.jump(),this.scroll()},customizeColor:function(){$("section>div[data-color]").length>0?(this.customizeOn=!0,$("section").children("div").eq(0).attr("data-color")&&$(".slide").children("li").eq(0).addClass("active").css("background",$("section").children("div").eq(0).attr("data-color")),this.hoverChange()):this.customizeOn=!1},hoverChange:function(){$(".slide").on("mouseenter","li:not(.active)",function(i){var t=i.currentTarget,e=$("section .slide li").index(t);$("section").children("div").eq(e).attr("data-color")?$(".slide").children("li").eq(e).css("background",$("section").children("div").eq(e).attr("data-color")):$(".slide").children("li").eq(e).css("background",this.slideBgA)}.bind(this)),$(".slide").on("mouseleave","li:not(.active)",function(i){var t=i.currentTarget;$(t).css("background",this.slideBg)}.bind(this))},jump:function(){$(".slide").on("click","li a",function(i){i.preventDefault();var t=i.currentTarget,e=$("section .slide li").index($(t).parent()[0]);$("body,html").animate({scrollTop:$("section").children("div").eq(e).offset().top},200),$(".slide").children("li").eq(e)[0]!==$(".slide .active")[0]&&(this.customizeOn===!0?($(".slide .active").removeClass("active").css("background",this.slideBg),$("section").children("div").eq(e).attr("data-color")?$(".slide").children("li").eq(e).addClass("active").css("background",$("section").children("div").eq(e).attr("data-color")):$(".slide").children("li").eq(e).addClass("active").css("background",this.slideBgA)):($(".slide .active").removeClass("active"),$(".slide").children("li").eq(e).addClass("active")))}.bind(this))},scroll:function(){$("html").on("mousewheel",function(){this.monitor===!1&&(this.beforeHeight=$(window).scrollTop(),this.monitor=!0,this.heightNow=setInterval(function(){if(this.nowHeight=$(window).scrollTop(),this.beforeHeight!==this.nowHeight)if(this.beforeHeight=this.nowHeight,this.nowHeight>=this.minHeight)if($(".slide").addClass("show"),this.nowHeight>=this.fixedHeight){if($(".slide").addClass("fixed"),this.nowHeight>=$("section").offset().top){this.linHeight=$("section").offset().top;for(var i=0;i<this.numChildren;i++)if(this.linHeight+=this.arrHeight[i],this.nowHeight<this.linHeight){$(".slide").children("li").eq(i)[0]!==$(".slide .active")[0]&&(this.customizeOn===!0?($(".slide .active").removeClass("active").css("background",this.slideBg),$("section").children("div").eq(i).attr("data-color")?$(".slide").children("li").eq(i).addClass("active").css("background",$("section").children("div").eq(i).attr("data-color")):$(".slide").children("li").eq(i).addClass("active").css("background",this.slideBgA)):($(".slide .active").removeClass("active"),$(".slide").children("li").eq(i).addClass("active")));break}else i===this.numChildren-1&&$(".slide").removeClass("show")}}else $(".slide").removeClass("fixed");else $(".slide").removeClass("show")}.bind(this),10))}.bind(this))}};window.floorIndicator=s});