/*
 * @LastEditors: aFei
 * @LastEditTime: 2022-12-06 09:27:58
*/
(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";var e={$carousel:$(".bigCarousel"),$msg:$(".bigCarousel .list"),$prv:$(".bigCarousel .prv-btn"),$next:$(".bigCarousel .next-btn"),$indicator:$(".bigCarousel .indicator"),moveTime:500,itemNum:null,indexMax:null,itemWidth:null,beforePlace:null,nowPlace:null,INIT:null,start:function(){var i=this;this.itemNum=this.$msg.children(".item").length,this.indexMax=this.itemNum-1,this.itemWidth=parseInt(this.$carousel.css("width")),this.$msg.find(".item").each(function(s){s===i.indexMax&&i.itemNum>2?$(this).css("left",-i.itemWidth):$(this).css("left",i.itemWidth*s)}),this.$indicator.css({width:this.itemNum*20+(this.itemNum-1)*10,left:(this.itemWidth-this.itemNum*20-(this.itemNum-1)*10)/2});for(var t=0;t<this.itemNum;t++)this.$indicator.append($("<li />",{"data-place":t,class:t===0?"active":"",css:{left:t*30}}));navigator.appName=="Microsoft Internet Explorer"&&navigator.appVersion.split(";")[1].replace(/[ ]/g,"")=="MSIE8.0"&&this.$indicator.find("li").each(function(s){$(this).css({left:30*s,background:"rgb(204,204,204)"})}),this.$carousel.length>0&&this.itemNum>1&&(this.INIT=setInterval(this.change.bind(this,1),5e3),this.addEvent())},numRule:function(i){return i>this.indexMax?i-this.indexMax-1:i<0?i+this.indexMax+1:i},calculation:function(i){this.beforePlace=parseInt(this.$indicator.find(".active").attr("data-place"));var t=i-this.beforePlace;t===-this.indexMax?t=1:t===this.indexMax&&(t=-1),t!==0&&this.change(t)},change:function(i){this.beforePlace=parseInt(this.$indicator.find(".active").attr("data-place")),this.$indicator.find("li").eq(this.beforePlace).removeClass("active"),this.nowPlace=this.numRule(this.beforePlace+i),this.$indicator.find("li").eq(this.nowPlace).addClass("active"),this.itemNum===2?this.$msg.animate({left:-this.itemWidth*this.nowPlace},this.moveTime):this.nowPlace===0?(i>0?this.$msg.animate({left:-this.itemWidth*this.itemNum},this.moveTime):this.$msg.animate({left:-this.itemWidth*this.nowPlace},this.moveTime),setTimeout(function(){this.$msg.find(".item").eq(0).css("left",0),this.$msg.find(".item").eq(this.indexMax).css("left",-this.itemWidth),this.$msg.css("left",0)}.bind(this),this.moveTime+20)):this.nowPlace===this.indexMax?(i>0?this.$msg.animate({left:-this.itemWidth*this.nowPlace},this.moveTime):this.$msg.animate({left:this.itemWidth},this.moveTime),setTimeout(function(){this.$msg.find(".item").eq(0).css("left",this.itemWidth*this.itemNum),this.$msg.find(".item").eq(this.indexMax).css("left",this.itemWidth*this.indexMax),this.$msg.css("left",-this.itemWidth*this.indexMax)}.bind(this),this.moveTime+20)):(this.nowPlace===this.indexMax-1&&(this.$msg.find(".item").eq(this.indexMax).css("left",this.indexMax*this.itemWidth),this.$msg.find(".item").eq(0).css("left",0)),this.$msg.animate({left:-this.itemWidth*this.nowPlace},this.moveTime))},addEvent:function(){this.$carousel.on({mouseenter:function(){clearInterval(this.INIT)}.bind(this),mouseleave:function(){this.INIT=setInterval(this.change.bind(this,1),5e3)}.bind(this)}),this.$prv.on("click",this.change.bind(this,-1)),this.$next.on("click",this.change.bind(this,1)),this.$indicator.on("mouseenter","li",function(i){var t=i.currentTarget;this.calculation(parseInt($(t).attr("data-place")))}.bind(this))}};window.bigCarousel=e});